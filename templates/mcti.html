{% extends "base.html" %}

{% block title %}Detecções MCTI{% endblock %}

{% block content %}
<div class="main-card">
    <h1 class="display-6 mb-4">Busca de Campanhas MCTI</h1>
    <p class="text-secondary">Selecione o Ano e o Período da campanha que deseja visualizar.</p>

    <form id="mcti-search-form" class="row g-3 align-items-end mb-5">
        <div class="col-md-5">
            <label for="filtro-ano" class="form-label">Ano</label>
            <select id="filtro-ano" class="form-select">
                <option selected value="">Selecione um Ano...</option>
            </select>
        </div>
        <div class="col-md-5">
            <label for="filtro-periodo" class="form-label">Período</label>
            <select id="filtro-periodo" class="form-select" disabled>
                <option selected value="">Selecione um Período...</option>
            </select>
        </div>
        <div class="col-md-2">
            <button type="submit" class="btn btn-primary w-100">
                <i class="fas fa-search me-2"></i>Buscar
            </button>
        </div>
    </form>
</div>

<div class="results-card d-none" id="mcti-results-card">
    <div class="results-header d-flex justify-content-between align-items-center gap-3">
        <div>
            <h4 class="mb-0">Resultados da Campanha</h4>
            <span class="badge bg-secondary fw-normal" id="mcti-results-count">0 encontrados</span>
        </div>
        <div class="ms-auto w-50" style="max-width: 400px;">
            <input type="search" id="keyword-search-input" class="form-control" placeholder="Filtrar resultados por palavra-chave...">
        </div>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead id="mcti-table-head">
            </thead>
            <tbody id="mcti-table-body">
            </tbody>
        </table>
    </div>
    <div id="mcti-empty-message" class="text-center p-5 d-none">
        <h5 class="text-secondary">Nenhum resultado encontrado para a campanha selecionada.</h5>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/mcti_manager.js') }}"></script>
{% endblock %}